<main>
  <div class="title-inscription">
    <h2>INSCRIPTION</h2>
  </div>

  <div>
    <div class="inscription">
      <div class="panel panel-default">
        <div class="panel-body">
          <p class="text-center text-muted">
            Si vous avez déjà un compte, <a routerLink="/connexion">connectez-vous ici !</a>
          </p>
          <hr />

          <form [formGroup]="Form" (ngSubmit)="registration()">
            <div class="top-margin">
              <input type="hidden" formControlName="id" />
              <label>Prénom <span class="text-danger">*</span></label>
              <input type="text" class="form-control" formControlName="firstname" placeholder="Votre prénom"/>
              <div *ngIf="submitted && Form.controls.firstname.errors" class="text-danger">
                <div *ngIf="Form.controls.firstname.errors.required">
                  Merci de renseigner votre prénom
                </div>
              </div>
            </div>

            <div class="top-margin">
              <label>Nom <span class="text-danger">*</span></label>
              <input type="text" class="form-control" formControlName="lastname" placeholder="Votre nom"/>
              <div *ngIf="submitted && Form.controls.lastname.errors" class="text-danger">
                <div *ngIf="Form.controls.lastname.errors.required">
                  Merci de renseigner votre nom de famille
                </div>
              </div>
            </div>

            <div class="top-margin">
              <label>Email <span class="text-danger">*</span></label>
              <input type="text" class="form-control" formControlName="mail" placeholder="exemple@exemple.com"/>
              <div *ngIf="submitted && Form.controls.mail.errors" class="text-danger">
                <div *ngIf="Form.controls.mail.errors.required">
                  Merci de renseigner votre adresse mail
                </div>
                <div *ngIf="Form.controls.mail.invalid && !Form.controls.mail.errors.required">
                  Veuillez saisir une adresse mail valide
                </div>
              </div>
            </div>

            <div class="row top-margin">
              <div class="col-sm-6">
                <label>Mot de passe <span class="text-danger">*</span></label>
                <input type="password" class="form-control" formControlName="password" placeholder="mot de passe"/>
                <div *ngIf="submitted && Form.controls.password.errors" class="text-danger">
                  <div *ngIf="Form.controls.password.errors.required">
                    Merci d'entrer un mot de passe
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <label>Confirmer le mot de passe <span class="text-danger">*</span></label>
                <input type="password" class="form-control" formControlName="confirmpassword" placeholder="mot de passe"/>
                <div *ngIf="submitted && Form.controls.confirmpassword.errors" class="text-danger">
                  <div *ngIf="Form.controls.confirmpassword.errors.required">
                    Merci de confirmer le mot de passe
                  </div>
                </div>
              </div>
              <div *ngIf="submitted && matchingError" class="text-danger text-center w-100">
                Les deux mots de passe ne correspondent pas !
              </div>
            </div>

            <div *ngIf="submitted && submitError" class="text-danger text-center w-100">
              L'email existe déjà
            </div>

            <hr />

            <div class="row submit">
              <div class="form-group col-lg-12">
                <div class="form-check">

                  <input class="form-check-input" type="checkbox" id="gridCheck" name="check" formControlName="check" required="true">
                    <label class="form-check-label" for="gridCheck" style="margin-top: 0rem !important;">
                      En cochant cette case, je reconnais avoir pris connaissance des <a routerLink='/mentions-legales' style="border-bottom: 1px dashed var(--primary);">Conditions Générales d'Utilisation du site</a> ainsi que de sa <a routerLink='/mentions-legales' style="border-bottom: 1px dashed var(--primary);">Politique de Confidentialité</a> et je les accepte.
                    </label>
                    <div *ngIf="submitted && Form.controls.check.errors" class="text-danger">
                      <div *ngIf="Form.controls.check.errors.required">
                        Vous devez accepter les Conditions Générales d'Utilisation du site pour pouvoir vous inscrire.
                      </div>
                    </div>

                </div>
              </div>

              <div class="col-lg-12">
                <button class="btn btn-primary" type="submit">Je m'inscris ! </button>
              </div>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</main>